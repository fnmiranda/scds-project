<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sistema de DetecÃ§Ã£o Sonora - HistÃ³rico</title>

  <script src="/socket.io/socket.io.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>

  <script src="/public/main.js" defer></script>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="container">
    <div class="card">
      <div class="header">
        <div class="img-container">
          <img class="img-logo" src="assets/logo.jpeg"/>

        </div>
        
        <h1>Sistema de CaptaÃ§Ã£o de CadÃªncia por Som</h1>
        <div class="subtitle">ğŸ“Š HistÃ³rico de Eventos - Sensor KY-037</div>
      </div>

      <div class="kpi-grid">
        <div class="kpi-card">
          <span class="kpi-label">Total de Eventos</span>
          <span class="kpi-value" id="totalEvents">0</span>
        </div>
        <div class="kpi-card">
          <span class="kpi-label">MÃ©dia por Segundo</span>
          <span class="kpi-value" id="avgPerMinute">0.0</span>
        </div>
        <div class="kpi-card">
          <span class="kpi-label">Pico MÃ¡ximo</span>
          <span class="kpi-value" id="peakEvents">0</span>
        </div>
        <div class="kpi-card">
          <span class="kpi-label">CadÃªncia / min</span>
          <span class="kpi-value" id="cadenceEvents">0</span>
        </div>
        <div class="kpi-card">
          <span class="kpi-label">DuraÃ§Ã£o  (min)</span>
          <span class="kpi-value" id="totalDuration">0<span class="kpi-unit">min</span></span>

        
        </div>
      </div>

      <div class="controls">
        <button class="btn" id="btnSample">ğŸ“ Carregar Dados de Exemplo</button>
        <button class="btn btn-secondary" id="btnExport">ğŸ“¤ Exportar Dados</button>
        <button class="btn btn-secondary" id="btnClear">ğŸ—‘ï¸ Limpar GrÃ¡fico</button>
      </div>

      <div class="chart-container">
        <canvas id="eventsChart"></canvas>
      </div>

      <div>
        <h3 style="margin-bottom:1rem;color:#2d3748;">ğŸ“‹ Dados Detalhados</h3>
        <div style="max-height:300px;overflow-y:auto;">
          <table class="data-table" id="dataTable">
            <thead>
              <tr>
                <th>Timestamp</th>
                <th>Eventos</th>
                <th>DuraÃ§Ã£o (min)</th>
                <th>Intensidade</th>
              </tr>
            </thead>
            <tbody id="tableBody"></tbody>
          </table>
        </div>
      </div>

      <div class="description">
        <h3>ğŸ” Sobre o Sistema</h3>
        <p>
          Este sistema monitora eventos sonoros utilizando um sensor KY-037 conectado ao Arduino.
          O sensor detecta sons de alta intensidade e registra cada ocorrÃªncia com timestamp e intensidade,
          permitindo anÃ¡lise histÃ³rica dos dados.
        </p>
        <div class="tech-specs">
          <div class="spec-item"><div class="spec-label">Sensor</div><div class="spec-value">KY-037</div></div>
          <div class="spec-item"><div class="spec-label">Plataforma</div><div class="spec-value">Arduino Uno</div></div>
          <div class="spec-item"><div class="spec-label">AplicaÃ§Ã£o</div><div class="spec-value">DetecÃ§Ã£o de Disparos</div></div>
          <div class="spec-item"><div class="spec-label">SaÃ­da</div><div class="spec-value">Array de Eventos Temporais</div></div>
        </div>
      </div>
    </div>
  </div>




<!-- FOOTER -->
  <footer class="site-footer">
    <div class="container footer-wrap">
      <div class="footer-brand">
        <div class="brand-logo small">EC</div>
        <div>
          <strong>EchoCheck</strong><br/>
          <span class="muted">Engenharia acÃºstica aplicada a monitoramento, diagnÃ³stico e automaÃ§Ã£o.</span>
        </div>
      </div>
      <div class="footer-desc">
        <p><strong>SC2S</strong> Ã© um produto EchoCheck para anÃ¡lise de eventos de alta intensidade. Combina hardware robusto, algoritmos de detecÃ§Ã£o por limiar e Î”t, e um painel web enxuto para cadÃªncia e histÃ³rico.</p>
      </div>
      <div class="footer-meta">
        <span>Â© <span id="year"></span> EchoCheck â€¢ Todos os direitos reservados</span>
      </div>
    </div>
  </footer>

  <!-- Seu JS atual (grÃ¡ficos/socket) -->
  <script>
    // Atualiza ano no footer
    document.addEventListener('DOMContentLoaded', () => { 
      const y = document.getElementById('year');
      if (y) y.textContent = new Date().getFullYear();
    });
  </script>
  <!-- cliente Socket.IO (separado) -->
  <script src="/public/client.js" defer></script>


</body>


</html>